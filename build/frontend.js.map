{"version":3,"file":"frontend.js","mappings":";;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGa;AACb,CAAQ;;AAER;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,oDAAoD,qCAAqC,yBAAyB,qCAAqC,iCAAiC,gBAAgB,8BAA8B,eAAe;AACrP;AACA;;AAEA;AACA;AACA,uCAAuC,SAAS,cAAc,GAAG,QAAQ,aAAa,GAAG,gCAAgC,eAAe,OAAO,QAAQ,SAAS,UAAU;AAC1K;;AAEA;AACA;AACA;AACA,gCAAgC;AAChC,mCAAmC,kBAAkB,YAAY,UAAU,YAAY,qBAAqB,GAAG,0BAA0B,wCAAwC,eAAe;AAChM;AACA;;AAEA;AACA;AACA,6BAA6B,0BAA0B,MAAM,mBAAmB,YAAY,qBAAqB,GAAG,qBAAqB,eAAe,0BAA0B;AAClL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iCAAiC,SAAS,gBAAgB,GAAG,QAAQ,eAAe,GAAG,qBAAqB,SAAS,wCAAwC,KAAK,uDAAuD,GAAG;AAC5N;AACA,GAAG;AACH;;AAEA;AACA;AACA,sCAAsC,eAAe,kBAAkB,SAAS,qBAAqB,GAAG,QAAQ,eAAe,GAAG,WAAW,0BAA0B,YAAY,uBAAuB,OAAO,qFAAqF,GAAG;AACzS;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,SAAS,eAAe,GAAG,QAAQ,eAAe,GAAG,kBAAkB,YAAY,gBAAgB,GAAG,eAAe,0BAA0B,gBAAgB,eAAe,GAAG,aAAa,gBAAgB,GAAG,iCAAiC;;AAEtR;AACA;AACA;AACA,6BAA6B,qCAAqC,GAAG,aAAa,6BAA6B,WAAW,sBAAsB,gBAAgB;;AAEhK;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA,kIAAkI,+EAA+E;AACjN;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA,yFAAyF,MAAM;AAC/F,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mCAAmC,iBAAiB,qBAAqB,QAAQ,8BAA8B,GAAG,SAAS,wBAAwB,GAAG,WAAW,OAAO,iCAAiC,eAAe;AACxN;;AAEA,4CAA4C,oCAAoC,eAAe,qCAAqC,UAAU,SAAS,2BAA2B,GAAG,kCAAkC,6BAA6B,wBAAwB,4BAA4B,kBAAkB,oBAAoB,YAAY,0BAA0B,GAAG;AACvX;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA,+CAA+C,aAAa;AAC5D,IAAI;;AAEJ;AACA,GAAG;;AAEH;AACA,wHAAwH,kFAAkF;AAC1M;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,6BAA6B,oCAAoC,MAAM,6BAA6B,YAAY,+BAA+B,GAAG,qBAAqB,eAAe,0BAA0B;AAChN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,iCAAiC,SAAS,gBAAgB,GAAG,QAAQ,eAAe,GAAG,qBAAqB,SAAS,kDAAkD,KAAK,yDAAyD,GAAG;AACxO;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0BAA0B,iBAAiB;AAC3C;;AAEA,KAAK;AACL;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,gCAAgC,cAAc;AAC9C,+BAA+B,aAAa;AAC5C,gCAAgC,qBAAqB;AACrD;AACA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B,yBAAyB;AACvD,6BAA6B,kBAAkB;AAC/C,kCAAkC,qBAAqB;;AAEvD;AACA;AACA;AACA;AACA,+BAA+B,gBAAgB,GAAG,QAAQ,eAAe,GAAG,UAAU,YAAY,SAAS,wCAAwC,KAAK,uDAAuD,GAAG;;AAElN;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,8HAA8H,mFAAmF;AACjN;AACA;AACA,2BAA2B,6BAA6B;AACxD,KAAK;;AAEL;AACA,8BAA8B,+CAA+C,GAAG,YAAY,WAAW,sBAAsB,gBAAgB;AAC7I;AACA,yBAAyB,oBAAoB;AAC7C,wBAAwB,oBAAoB;AAC5C,+BAA+B,oBAAoB;AACnD,4BAA4B,qBAAqB;AACjD,sDAAsD,qBAAqB,SAAS,qBAAqB;AACzG,KAAK;;AAEL;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,IAAI;AACJ;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;;;;;;;;;;;;ACrjBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEY;AACL;AACP;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB,eAAe,GAAG;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,oBAAoB;AAC5C;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,UAAU;AACV;AACA;;;AAGA;AACA;AACA;AACA;AACA,uCAAuC,SAAS;AAChD;AACA,sCAAsC,KAAK;AAC3C,qCAAqC,KAAK;AAC1C;AACA;AACA;AACA;AACA,4CAA4C,MAAM;AAClD;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;;;;;;UC7HA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;ACNsD;AACf;AAEvCE,MAAM,CAACC,gBAAgB,CAAC,kBAAkB,EAAC,MAAI;EAE3CC,KAAK,CAACC,IAAI,CAACC,QAAQ,CAACC,gBAAgB,CAAC,kBAAkB,CAAC,CAAC,CAACC,GAAG,CAACC,CAAC,IAAE;IAE7D,IAAIR,iDAAS,CAAE,IAAGQ,CAAC,CAACC,YAAY,CAAC,IAAI,CAAE,EAAC,EAAE;MAAEC,YAAY,EAAE,IAAI;MAAEC,QAAQ,EAAEC,QAAQ,CAACJ,CAAC,CAACC,YAAY,CAAC,aAAa,CAAC,CAAC;MAAGI,QAAQ,EAAEC,EAAE,IAAIA,EAAE,CAACC,KAAK,CAACC,OAAO,GAAG;IAAG,CAAC,CAAC;EAChK,CAAC,CAAC;EAIN,IAAIjB,gEAAgB,CAAC,kBAAkB,CAAC;AAGxC,CAAC,CAAC,C","sources":["webpack://ctc-gal-block/./node_modules/ctc-gallery-viewer/ctc_overlay.js","webpack://ctc-gal-block/./node_modules/js-masonry/js-masonry.js","webpack://ctc-gal-block/webpack/bootstrap","webpack://ctc-gal-block/webpack/runtime/define property getters","webpack://ctc-gal-block/webpack/runtime/hasOwnProperty shorthand","webpack://ctc-gal-block/webpack/runtime/make namespace object","webpack://ctc-gal-block/./src/frontend.js"],"sourcesContent":["/*\n * \n * \n * \n * CTC Gallery Viewer\n *  images in overlay carousel and gallery written in vanilla js\n * https://ujwolbastakoti.wordpress.com/\n * MIT license\n * \n * \n * \n */\n\n\n\"use strict\";\n export class ctcOverlayViewer {\n\n\tconstructor(sel, param2) {\n\t\tArray.from(document.querySelectorAll(sel)).forEach((el, i) => this.prepareGal(el, i, param2));\n\t\twindow.addEventListener('resize', e => this.adjustApp(e));\n\t\twindow.addEventListener('keydown', e => this.onKeyStroke(e));\n\t\tthis.ssIntervalId = 0;\n\t}\n\t/*\n\t*Prepare gallery for viewing\n\t* \n\t*@param gal  All of the images of agllery\n\t*@param param2 for future extension\n\t*\n\t*/\n\tprepareGal(gal, param2) {\n\t\tlet imgs = Array.from(gal.querySelectorAll('img'));\n\t\timgs.forEach((img, imgNum) => img.addEventListener('click', e => this.createOverlay(event.target, imgNum, imgs, param2)));\n\t}\n\n\t/*\n\t*Create overlay for viewing\n\t* \n\t*@param img Iamges clicked\n\t*@param imgNum Number of image in gallery\n\t*@param gal Array of images in gallery\n\t*@param param2 For future extension\n\t*\n\t*/\n\n\tcreateOverlay(img, imgNum, gal, param2) {\n\n\t\tlet overlayWidth = window.innerWidth + 1;\n\t\tlet overlayHeight = window.innerHeight + 1;\n\t\tlet alltImgWidth = 1 < gal.length ? 0.94 : 1;\n\t\tlet sideBarWid = 1 < gal.length ? 0.04 : 0;\n\n\t\tlet scrollCss = document.createElement('style');\n\t\tscrollCss.id = 'ctc-scroll-css';\n\t\tscrollCss.innerHTML = `::-webkit-scrollbar-track {background: rgba(255, 255, 255, 1);} ::-moz-scrollbar-track { background: rgba(255, 255, 255, 1);} #gal-sidebar::-webkit-scrollbar {display: none;} #gal-sidebar::-moz-scrollbar {display: none;}`;\n\t\tdocument.querySelector('head').appendChild(scrollCss);\n\t\tdocument.body.style.overflow = 'hidden';\n\n\t\tlet overlayDivEl = document.createElement(\"div\");\n\t\toverlayDivEl.id = \"gallery-overlay\";\n\t\toverlayDivEl.style = `position:fixed;height:${overlayHeight}px;width:${overlayWidth}px;background-color:rgba(0,0,0,.6);z-index:100000;top:0%;left:0%;right:0%;bottom:0%;`;\n\t\tdocument.body.insertBefore(overlayDivEl, document.body.firstChild);\n\n\t\tlet closeBtn = document.createElement('span');\n\t\tcloseBtn.id = \"overlay-close-btn\";\n\t\tcloseBtn.title = \"Close\";\n\t\tcloseBtn.innerHTML = \"&#10539;\";\n\t\tcloseBtn.style = `cursor:pointer;position:absolute;float:right;right:3px;font-size:${0.016 * overlayWidth}px;color:rgba(255,255,255,1);text-shadow:-1px -1px 1px rgba(0,0,0,1);z-index:200000;`;\n\t\toverlayDivEl.appendChild(closeBtn);\n\t\tcloseBtn.addEventListener('click', () => this.closeOverlay(overlayDivEl));\n\n\t\tlet imgLoading = document.createElement('span');\n\t\timgLoading.id = 'image-loading-main';\n\t\timgLoading.style = `left:${0.992 * overlayWidth / 2};top:${overlayHeight / 2};font-size:${0.016 * overlayWidth}px;display:inline-block;position:fixed;color:rgba(255,255,255,1);`;\n\t\timgLoading.innerHTML = 'Loading';\n\t\toverlayDivEl.appendChild(imgLoading);\n\t\tlet loadingInt = setInterval(() => {\n\t\t\tswitch (imgLoading.innerHTML) {\n\t\t\t\tcase 'Loading':\n\t\t\t\t\timgLoading.innerHTML = 'Loading<b>.</b>'\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'Loading<b>.</b>':\n\t\t\t\t\timgLoading.innerHTML = 'Loading.<b>.</b>'\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'Loading.<b>.</b>':\n\t\t\t\t\timgLoading.innerHTML = 'Loading..<b>.</b>'\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'Loading..<b>.</b>':\n\t\t\t\t\timgLoading.innerHTML = 'Loading...<b>.</b>'\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'Loading...<b>.</b>':\n\t\t\t\t\timgLoading.innerHTML = 'Loading<b>.</b>'\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}, 350);\n\n\t\tlet imgEl = document.createElement('img');\n\t\tlet loadedImg = new Image();\n\t\tloadedImg.src = img.src;\n\t\timgEl.id = 'loaded-img';\n\t\timgEl.src = img.src;\n\t\timgEl.style.display = 'none';\n\t\tlet opImgDim = this.getOptimizedImageSize(overlayWidth, overlayHeight, loadedImg.width, loadedImg.height, gal.length);\n\n\t\tloadedImg.addEventListener('load', (event) => {\n\t\t\tclearInterval(loadingInt);\n\t\t\timgLoading.style.display = 'none';\n\t\t\timgEl.style = `z-index:180000;height:${opImgDim.height}px;width:${opImgDim.width}px;display:inline-block;margin:${((overlayHeight - opImgDim.height) / 2)}px ${(((alltImgWidth * overlayWidth) - opImgDim.width) / 2)}px;`;\n\t\t\timgEl.title = undefined != img.getAttribute('title') || null != img.getAttribute('title') ? img.getAttribute('title') : '';\n\t\t});\n\t\toverlayDivEl.appendChild(imgEl);\n\n\t\tlet imgTitleDiv = document.createElement(\"div\");\n\t\timgTitleDiv.id = \"img-title-info\";\n\t\timgTitleDiv.style = `z-index:195000;position:fixed;text-align:center;height:${0.02 * overlayHeight}px;width:${opImgDim.width}px;bottom:1px;color:rgba(255,255,255,1);font-size:${0.015 * overlayHeight};left:${(sideBarWid * overlayWidth) + (((alltImgWidth * overlayWidth) - opImgDim.width) / 2)}px;`;\n\t\timgTitleDiv.innerHTML = undefined != img.getAttribute('title') || null != img.getAttribute('title') ? img.getAttribute('title') : '';\n\t\toverlayDivEl.appendChild(imgTitleDiv);\n\n\t\tif (1 < gal.length) {\n\t\t\tthis.createToolbar(overlayDivEl, gal, imgEl, imgNum, param2);\n\t\t\tthis.createSidebar(overlayDivEl, gal, imgEl, imgNum, param2);\n\t\t\timgEl.addEventListener('click', e => {\n\t\t\t\tif (e.offsetX > (e.target.offsetWidth / 2)) {\n\t\t\t\t\tdocument.querySelector('#gal-next-img').click();\n\t\t\t\t} else {\n\t\t\t\t\tdocument.querySelector('#gal-prev-img').click();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t/*\n\t*Create toolbar \n\t* \n\t*@param overlayDivEl Overlay div element\n\t*@param gal Array of images in gallery\n\t*@param imgEl Image element in overlay\n\t*@param imgNum Number of image in gallery\n\t*@param param2 For future extension\n\t*\n\t*/\n\tcreateToolbar(overlayDivEl, gal, imgEl, imgNum, param2) {\n\t\tlet toolbarDiv = overlayDivEl.querySelector('#toolbar-div');\n\t\tlet ovWidth = overlayDivEl.offsetWidth;\n\t\tlet ovHeight = overlayDivEl.offsetHeight;\n\t\tlet nxtImg = gal.length - 1 >= imgNum + 1 ? imgNum + 1 : 0;\n\t\tlet prevImg = 0 <= imgNum - 1 ? imgNum - 1 : gal.length - 1;\n\t\tlet btnStyle = `font-family:serif;height:${0.02 * ovWidth}px;width:${0.02 * ovWidth}px;text-align:center;font-size:${0.016 * ovWidth}px;cursor:pointer;color:rgba(255,255,255,1);border-radius:${0.02 * ovWidth}px;margin-top:${0.002 * ovWidth}px;background-color:rgba(0,0,0,0.8);`;\n\n\t\tif (undefined == toolbarDiv) {\n\t\t\tlet toolbarDiv = document.createElement('div');\n\t\t\ttoolbarDiv.id = 'toolbar-div';\n\t\t\ttoolbarDiv.style = `top:${(ovHeight / 1.6) - (0.077 * ovWidth)}px;float:right; transform: translateY(-50%); right: 0px;display: inline-block;position: fixed;`;\n\n\t\t\tlet prevBtn = document.createElement('div');\n\t\t\tprevBtn.id = 'gal-prev-img';\n\t\t\tprevBtn.style = btnStyle;\n\t\t\tprevBtn.innerHTML = '&#60;';\n\t\t\tprevBtn.title = 'Previous image';\n\t\t\tprevBtn.addEventListener('click', e => this.loadImg(parseInt(e.target.getAttribute('data-img-num')), gal, overlayDivEl, imgEl));\n\t\t\tprevBtn.setAttribute('data-img-num', prevImg);\n\t\t\tprevBtn.addEventListener('mouseenter', e => e.target.style.fontWeight = 'bolder');\n\t\t\tprevBtn.addEventListener('mouseleave', e => e.target.style.fontWeight = '');\n\t\t\ttoolbarDiv.insertBefore(prevBtn, toolbarDiv.firstChild);\n\n\t\n\n\t\t\tlet zoomInBtn = document.createElement('div');\n\t\t\tzoomInBtn.id = 'img-zoom-in';\n\t\t\tzoomInBtn.style = btnStyle;\n\t\t\tzoomInBtn.innerHTML = '&#43;';\n\t\t\tzoomInBtn.title = 'Zoom in';\n\t\t\tzoomInBtn.addEventListener('click', () => imgEl.style.transform = 0 === imgEl.style.transform.length ? `scale(1.2)` : `scale(${parseFloat(imgEl.style.transform.replace('scale(', '').replace(')', '')) + 0.2})`);\n\t\t\tzoomInBtn.addEventListener('mouseenter', e => e.target.style.fontWeight = 'bolder');\n\t\t\tzoomInBtn.addEventListener('mouseleave', e => e.target.style.fontWeight = '');\n\t\t\ttoolbarDiv.appendChild(zoomInBtn);\n\n\t\t\n\n\t\t\tlet zoomOutBtn = document.createElement('div');\n\t\t\tzoomOutBtn.id = 'img-zoom-out';\n\t\t\tzoomOutBtn.style = btnStyle;\n\t\t\tzoomOutBtn.innerHTML = '&#8722;';\n\t\t\tzoomOutBtn.title = 'Zoom out';\n\t\t\tzoomOutBtn.addEventListener('click', () => {\n\t\t\t\tlet zoom = parseFloat(imgEl.style.transform.replace('scale(', '').replace(')', '')) - 0.2;\n\t\t\t\tlet scale = 0 > zoom ? 0.1 : zoom;\n\t\t\t\timgEl.style.transform = 0 === imgEl.style.transform.length ? `scale(0.8)` : `scale(${scale})`\n\t\t\t});\n\t\t\tzoomOutBtn.addEventListener('mouseenter', e => e.target.style.fontWeight = 'bolder')\n\t\t\tzoomOutBtn.addEventListener('mouseleave', e => e.target.style.fontWeight = '');\n\t\t\ttoolbarDiv.appendChild(zoomOutBtn);\n\n\t\t\tlet nextBtn = document.createElement('div');\n\t\t\tnextBtn.id = 'gal-next-img';\n\t\t\tnextBtn.style = btnStyle;\n\t\t\tnextBtn.innerHTML = '&#62;';\n\t\t\tnextBtn.title = 'Next image';\n\t\t\tnextBtn.addEventListener('click', e => this.loadImg(parseInt(e.target.getAttribute('data-img-num')), gal, overlayDivEl, imgEl));\n\t\t\tnextBtn.setAttribute('data-img-num', nxtImg)\n\t\t\tnextBtn.addEventListener('mouseenter', e => e.target.style.fontWeight = 'bolder');\n\t\t\tnextBtn.addEventListener('mouseleave', e => e.target.style.fontWeight = '');\n\t\t\ttoolbarDiv.appendChild(nextBtn);\n\t\t\toverlayDivEl.appendChild(toolbarDiv);\n\n\t\t} else {\n\n\t\t\tlet imgLoading = overlayDivEl.querySelector('#image-loading-main');\n\t\t\tif (undefined != imgLoading) {\n\t\t\t\toverlayDivEl.removeChild(imgLoading);\n\t\t\t}\n\t\t\ttoolbarDiv.querySelector('#gal-prev-img').setAttribute('data-img-num', prevImg);\n\t\t\ttoolbarDiv.querySelector('#gal-next-img').setAttribute('data-img-num', nxtImg)\n\t\t}\n\t}\n\n\n\t/*\n\t*Create sidebar of images\n\t* \n\t*@param overlayDivEl Overlay div element\n\t*@param gal Array of images in gallery\n\t*@param imgEl Image element in overlay\n\t*@param imgClicked Image cliecked to trigger overlay\n\t*@param param2 For future extension\n\t*\n\t*/\n\n\tcreateSidebar(overlayDiv, gal, imgEl, imgClicked, param2) {\n\t\tlet sidebar = document.createElement('div');\n\t\tsidebar.id = `gal-sidebar`;\n\t\tsidebar.style = `overflow-y:auto;tex-align:center;display:inline-block;width:${0.04 * overlayDiv.offsetWidth}px;height:${overlayDiv.offsetHeight}px;float:left;left:0;background-color:rgba(0,0,0,0.1);z-index:105000;`;\n\t\toverlayDiv.appendChild(sidebar);\n\n\t\tlet sidebarImgStyle = `overflow-x: hidden;transition: width 0.5s, height 0.5s;cursor:pointer;background-color:rgba(255,255,255,1);width:93%;height:${0.93 * sidebar.offsetWidth}px;border:1px dotted rgba(0,0,0,0.8);background-repeat: no-repeat;background-size:contain;background-position: center;text-align:center;color:rgba(0,0,0,1);font-size:${0.6 * sidebar.offsetWidth}px;`;\n\t\tgal.map((img, i) => {\n\n\t\t\tlet imgPrev = new Image();\n\t\t\timgPrev.src = img.src;\n\n\t\t\tlet sidebarImg = document.createElement('div');\n\t\t\tsidebarImg.classList.add('img-preview');\n\t\t\tsidebarImg.title = undefined != img.getAttribute('title') || null != img.getAttribute('title') ? img.getAttribute('title') : '';\n\t\t\tsidebarImg.style = sidebarImgStyle;\n\t\t\tsidebarImg.addEventListener('mouseenter', event => event.target.style.borderRadius = '12%');\n\t\t\tsidebarImg.addEventListener('mouseleave', event => event.target.style.borderRadius = '5%');\n\t\t\tsidebarImg.innerHTML = `<b>.</b>`;\n\t\t\tsidebar.appendChild(sidebarImg);\n\t\t\tlet rotateInterval = setInterval(() => {\n\t\t\t\tswitch (sidebarImg.innerHTML) {\n\t\t\t\t\tcase '<b>.</b>':\n\t\t\t\t\t\tsidebarImg.innerHTML = '<b>.</b>.'\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase '<b>.</b>.':\n\t\t\t\t\t\tsidebarImg.innerHTML = '.<b>.</b>.'\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase '.<b>.</b>.':\n\t\t\t\t\t\tsidebarImg.innerHTML = '...<b>.</b>'\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase '...<b>.</b>':\n\t\t\t\t\t\tsidebarImg.innerHTML = '<b>.</b>'\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t}\n\t\t\t}, 250);\n\n\t\t\timgPrev.addEventListener('load', e => {\n\t\t\t\tclearInterval(rotateInterval);\n\t\t\t\tsidebarImg.innerHTML = '';\n\t\t\t\tsidebarImg.style.backgroundImage = `url('${e.target.src}')`;\n\t\t\t});\n\n\t\t\tsidebarImg.addEventListener('click', () => this.loadImg(i, gal, overlayDiv, imgEl));\n\t\t});\n\n\t\tthis.scrollToPrev(imgClicked);\n\t\tsidebar.style.paddingTop = 0 < (overlayDiv.offsetHeight - (gal.length * ((0.93 * sidebar.offsetWidth) + 2))) / 2 ? `${(overlayDiv.offsetHeight - (gal.length * ((0.93 * sidebar.offsetWidth) + 2))) / 2}px` : `0px`;\n\t}\n\n\t/*\n\t*Load image clicked on sidebar\n\t* \n\t*@param imgNum Number of image on gallery\n\t*@param gal Array of images in gallery\n\t*@param overlayDiv Overlay div element\n\t*@param imgEl Image element in overlay\n\t*\n\t*/\n\tloadImg(imgNum, gal, overlayDiv, imgEl) {\n\n\t\tvar clickedImg = new Image();\n\t\tclickedImg.src = gal[imgNum].src;\n\t\timgEl.src = gal[imgNum].src;\n\t\timgEl.style.display = 'none';\n\n\t\tlet imgLoading = document.createElement('span');\n\t\timgLoading.id = 'image-loading-main';\n\t\timgLoading.style = `left:${0.992 * overlayDiv.offsetWidth / 2};top:${overlayDiv.offsetHeight / 2};font-size:${0.016 * overlayDiv.offsetWidth}px;display:inline-block;position:fixed;color:rgba(255,255,255,1);`;\n\t\timgLoading.innerHTML = 'Loading';\n\t\toverlayDiv.appendChild(imgLoading);\n\n\t\tlet loadingInt = setInterval(() => {\n\t\t\tswitch (imgLoading.innerHTML) {\n\t\t\t\tcase 'Loading':\n\t\t\t\t\timgLoading.innerHTML = 'Loading<b>.</b>'\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'Loading<b>.</b>':\n\t\t\t\t\timgLoading.innerHTML = 'Loading.<b>.</b>'\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'Loading.<b>.</b>':\n\t\t\t\t\timgLoading.innerHTML = 'Loading..<b>.</b>'\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'Loading..<b>.</b>':\n\t\t\t\t\timgLoading.innerHTML = 'Loading...<b>.</b>'\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'Loading...<b>.</b>':\n\t\t\t\t\timgLoading.innerHTML = 'Loading<b>.</b>'\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t}\n\t\t}, 350);\n\n\t\tlet opImgDim = this.getOptimizedImageSize(overlayDiv.offsetWidth, overlayDiv.offsetHeight, clickedImg.width, clickedImg.height, gal.length);\n\t\tclickedImg.addEventListener('load', () => {\n\t\t\tclearInterval(loadingInt);\n\t\t\timgLoading.style.display = 'none';\n\t\t\timgEl.style = `z-index:180000;height:${opImgDim.height}px;width:${opImgDim.width}px;display:inline-block;margin:${((overlayDiv.offsetHeight - opImgDim.height) / 2)}px ${(((0.94 * overlayDiv.offsetWidth) - opImgDim.width) / 2)}px;`;\n\t\t\timgEl.title = undefined != gal[imgNum].getAttribute('title') || null != gal[imgNum].getAttribute('title') ? gal[imgNum].getAttribute('title') : '';\n\t\t});\n\t\tlet titleEl = document.querySelector('#img-title-info');\n\t\ttitleEl.style.overflow == 'hidden';\n\t\ttitleEl.innerHTML = undefined != gal[imgNum].getAttribute('title') || null != gal[imgNum].getAttribute('title') ? gal[imgNum].getAttribute('title') : '';\n\t\ttitleEl.style.width = opImgDim.width + 'px';\n\t\ttitleEl.style.left = (0.04 * overlayDiv.offsetWidth) + (((0.94 * overlayDiv.offsetWidth) - opImgDim.width) / 2) + 'px';\n\t\tthis.createToolbar(overlayDiv, gal, imgEl, imgNum);\n\t\tthis.scrollToPrev(imgNum);\n\t}\n\n\t/*\n\t*Scroll loaded image on side bar\n\t* \n\t*@param imgNum Number of image on gallery\n\t*\n\t*/\n\tscrollToPrev(imgNum) {\n\t\tArray.from(document.querySelectorAll('.img-preview')).forEach((prev, i) => {\n\n\t\t\tif (i === imgNum) {\n\t\t\t\tprev.scrollIntoView({ block: \"center\" });\n\t\t\t\tprev.style.border = `1px solid rgba(255, 0, 0, 0.8)`;\n\n\t\t\t} else {\n\t\t\t\tprev.style.border = `1px solid rgba(0,0,0,0.8)`;\n\t\t\t}\n\t\t});\n\t}\n\n\t/*\n\t*Adjust element dimension on resize\n\t* \n\t*@param e Resize event\n\t*\n\t*/\n\n\tadjustApp(e) {\n\t\tlet overlayWidth = window.innerWidth;\n\t\tlet overlayHeight = window.innerHeight;\n\t\tlet overlayDiv = document.querySelector('#gallery-overlay');\n\n\t\tif (undefined != overlayDiv) {\n\t\t\tlet closeBtn = overlayDiv.querySelector('#overlay-close-btn');\n\t\t\toverlayDiv.style.height = `${overlayHeight}px`;\n\t\t\toverlayDiv.style.width = `${overlayWidth}px`;\n\t\t\tcloseBtn.style.fontSize = `${0.016 * overlayWidth}`;\n\t\t\tlet loadedImg = document.querySelector('#loaded-img');\n\t\t\tlet sidebarDiv = document.querySelector('#gal-sidebar');\n\t\t\tlet imgCount = undefined != sidebarDiv ? 2 : 1;\n\t\t\tlet alltImgWidth = undefined != sidebarDiv ? 0.94 : 1;\n\t\t\tlet sideBarWid = undefined != sidebarDiv ? 0.04 : 0;\n\n\t\t\tlet imgLoading = overlayDiv.querySelector('#image-loading-main');\n\t\t\timgLoading.style.left = `${0.992 * overlayWidth / 2}`;\n\t\t\timgLoading.style.top = `${overlayHeight / 2}`;\n\t\t\timgLoading.style.fontSize = `${0.016 * overlayWidth}px`\n\n\t\t\tlet bufferImg = new Image();\n\t\t\tbufferImg.src = loadedImg.src;\n\t\t\tlet opImgDim = this.getOptimizedImageSize(overlayWidth, overlayHeight, bufferImg.width, bufferImg.height, imgCount);\n\t\t\tlet imgDisplay = loadedImg.style.display;\n\t\t\tloadedImg.style = `height:${opImgDim.height}px;width:${opImgDim.width}px;display:${imgDisplay};margin:${((overlayHeight - opImgDim.height) / 2)}px ${(((alltImgWidth * overlayWidth) - opImgDim.width) / 2)}px;`;\n\n\t\t\tlet titleEl = document.querySelector('#img-title-info');\n\t\t\ttitleEl.style.overflow = 'hidden';\n\t\t\ttitleEl.style.width = opImgDim.width + 'px';\n\t\t\ttitleEl.style.height = (0.02 * overlayHeight) + 'px';\n\t\t\ttitleEl.style.left = (sideBarWid * overlayWidth) + (((alltImgWidth * overlayWidth) - opImgDim.width) / 2) + 'px';\n\t\t\ttitleEl.style.fontSize = 0.015 * overlayHeight + 'px';\n\n\t\t\tif (undefined != sidebarDiv) {\n\t\t\t\tlet sidebarImgs = Array.from(sidebarDiv.querySelectorAll('div'));\n\t\t\t\tsidebarDiv.style.height = overlayHeight + 'px';\n\t\t\t\tsidebarDiv.style.width = (0.04 * overlayWidth) + 'px';\n\t\t\t\tsidebarDiv.style.paddingTop = 0 < (overlayHeight - (sidebarImgs.length * ((0.93 * sidebarDiv.offsetWidth) + 2))) / 2 ? `${(overlayHeight - (sidebarImgs.length * ((0.93 * sidebarDiv.offsetWidth) + 2))) / 2}px` : '0px';\n\t\t\t\tsidebarImgs.map(y => {\n\t\t\t\t\ty.style.height = (0.93 * sidebarDiv.offsetWidth) + 'px';\n\t\t\t\t\ty.style.fontSize = `${0.6 * sidebarDiv.offsetWidth}px`;\n\t\t\t\t});\n\n\t\t\t\tlet toolbarDiv = overlayDiv.querySelector('#toolbar-div');\n\t\t\t\ttoolbarDiv.style = `top:${(overlayHeight / 1.8) - (0.077 * overlayWidth)}px;float:right;right: 0px;display: inline-block;position: fixed;`;\n\t\t\t\tArray.from(toolbarDiv.querySelectorAll('div')).map(x => {\n\t\t\t\t\tx.style.height = `${0.02 * overlayWidth}px`;\n\t\t\t\t\tx.style.width = `${0.02 * overlayWidth}px`;\n\t\t\t\t\tx.style.borderRadius = `${0.02 * overlayWidth}px`;\n\t\t\t\t\tx.style.marginTop = `${0.002 * overlayWidth}px`;\n\t\t\t\t\tx.style.fontSize = 'gal-slide-show' != x.id ? `${0.016 * overlayWidth}px` : `${0.011 * overlayWidth}px`;\n\t\t\t\t});\n\n\t\t\t}\n\n\n\t\t}\n\t}\n\n\t/*\n\t*Destroy overlay viewer\n\t* \n\t*Static no parameter\n\t*\n\t*/\n\n\tcloseOverlay(overlayEl) {\n\t\tlet slideShowEl = overlayEl.querySelector('#gal-slide-show');\n\n\t\tif (null != slideShowEl && 0 < parseInt(slideShowEl.getAttribute('data-interval-id'))) {\n\t\t\tclearInterval(parseInt(slideShowEl.getAttribute('data-interval-id')));\n\t\t}\n\t\tdocument.body.removeChild(overlayEl);\n\t\tdocument.body.style.overflow = '';\n\t\tdocument.body.style.margin = ''\n\t\tdocument.querySelector('head').removeChild(document.querySelector('#ctc-scroll-css'));\n\t}\n\n\t/*\n\t*Optimize image dimension for viewing \n\t* \n\t*@param scrnWd Window's inner width\n\t*@param scrnHt Window's inner height\n\t*@param imgActWd Original width of image\n\t*@param imgActHt Original height of image\n\t*@param imgCount Toal count of images in gallery\n\t*\n\t*/\n\n\tgetOptimizedImageSize(scrnWd, scrnHt, imgActWd, imgActHt, imgCount) {\n\n\t\tlet imgScrnHtRatio = 0, imgScrnWdRatio = 0, optImgHt = 0, optImgWd = 0;\n\t\tlet imgPercent = undefined != imgCount && 1 < imgCount ? 0.93 : 0.955;\n\t\tlet marginPercent = 1 - imgPercent;\n\t\tif ((imgActWd >= scrnWd) && (imgActHt >= scrnHt)) {\n\t\t\tif (imgActWd >= imgActHt) {\n\t\t\t\tif (imgActWd > imgActHt) {\n\t\t\t\t\timgScrnWdRatio = imgActWd / scrnWd;\n\t\t\t\t\toptImgWd = (imgActWd / imgScrnWdRatio) - (marginPercent * scrnWd);\n\t\t\t\t\toptImgHt = imgActHt * (optImgWd / imgActWd);\n\t\t\t\t\tif (optImgHt >= (imgPercent * scrnHt)) {\n\t\t\t\t\t\timgScrnHtRatio = scrnHt / imgActHt;\n\t\t\t\t\t\toptImgHt = imgActHt * imgScrnHtRatio - (marginPercent * scrnHt);\n\t\t\t\t\t\toptImgWd = imgActWd * (optImgHt / imgActHt);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (scrnWd > scrnHt) {\n\t\t\t\t\t\toptImgHt = (imgPercent * scrnHt);\n\t\t\t\t\t\toptImgWd = optImgHt;\n\t\t\t\t\t} else if (scrnHt > scrnWd) {\n\t\t\t\t\t\toptImgWd = (imgPercent * scrnWd);\n\t\t\t\t\t\toptImgHt = optImgWd;\n\t\t\t\t\t} else {\n\t\t\t\t\t\timgScrnHtRatio = scrnHt / imgActHt;\n\t\t\t\t\t\toptImgHt = imgActHt * imgScrnHtRatio - (marginPercent * scrnHt);\n\t\t\t\t\t\toptImgWd = imgActWd * (optImgHt / imgActHt);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\timgScrnHtRatio = imgActHt / scrnHt;\n\t\t\t\toptImgHt = (imgActHt / imgScrnHtRatio) - (marginPercent * scrnHt);\n\t\t\t\toptImgWd = imgActWd * (optImgHt / imgActHt);\n\t\t\t}\n\n\t\t} else if (imgActWd >= scrnWd && imgActHt < scrnHt) {\n\t\t\timgScrnWdRatio = scrnWd / imgActWd;\n\t\t\toptImgWd = imgActWd * imgScrnWdRatio - (marginPercent * scrnWd);\n\t\t\toptImgHt = imgActHt * (optImgWd / imgActWd);\n\t\t} else if (imgActHt >= scrnHt && imgActWd < scrnWd) {\n\t\t\timgScrnHtRatio = scrnHt / imgActHt;\n\t\t\toptImgHt = imgActHt * imgScrnHtRatio - (marginPercent * scrnHt);\n\t\t\toptImgWd = imgActWd * (optImgHt / imgActHt);\n\t\t\toptImgHt = imgActHt * (optImgWd / imgActWd);\n\t\t} else {\n\t\t\tlet avlImgWd = imgPercent * scrnWd;\n\t\t\tlet avlImgHt = imgPercent * scrnHt;\n\t\t\tif (imgActWd >= avlImgWd && imgActHt >= avlImgHt) {\n\t\t\t\tlet imgAvlWdRatio = avlImgWd / imgActWd;\n\t\t\t\timgAvlHtRatio = avlImgHt / imgActHt;\n\t\t\t\toptImgWd = avlImgWd * imgAvlWdRatio;\n\t\t\t\toptImgHt = scrnHt * imgScrnHtRatio;\n\t\t\t} else if (imgActWd >= avlImgWd && imgActHt < avlImgHt) {\n\t\t\t\tlet imgAvlWdRatio = avlImgWd / imgActWd;\n\t\t\t\toptImgWd = imgActWd * imgAvlWdRatio;\n\t\t\t\toptImgHt = imgActHt * (optImgWd / imgActWd);\n\t\t\t} else if (imgActHt >= avlImgHt && imgActWd < avlImgWd) {\n\t\t\t\tlet imgAvlHtRatio = avlImgHt / imgActHt;\n\t\t\t\toptImgHt = imgActHt * imgAvlHtRatio;\n\t\t\t\toptImgWd = imgActWd * (optImgHt / imgActHt);\n\t\t\t} else {\n\t\t\t\toptImgWd = imgActWd;\n\t\t\t\toptImgHt = imgActHt;\n\t\t\t}\n\t\t\toptImgHt = imgActHt * (optImgWd / imgActWd);\n\t\t}\n\n\n\t\t//at last check it optimized width is still large\t\t\t\n\t\tif (optImgWd > (imgPercent * scrnWd)) {\n\t\t\toptImgWd = imgPercent * scrnWd;\n\t\t\toptImgHt = imgActHt * (optImgWd / imgActWd);\n\t\t}\n\t\treturn {\n\t\t\twidth: optImgWd,\n\t\t\theight: optImgHt\n\t\t};\n\t}\n\n\t/*\n\t*Handle keystroke event\n\t* \n\t*@param e Key stroke event\n\t*\n\t*/\n\n\tonKeyStroke(event) {\n\t\tlet overlayDiv = document.querySelector('#gallery-overlay');\n\t\tif (undefined != overlayDiv) {\n\t\t\tswitch (event.code) {\n\n\t\t\t\tcase 'ArrowUp':\n\t\t\t\t\tdocument.querySelector('#img-zoom-in').click();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ArrowDown':\n\t\t\t\t\tdocument.querySelector('#img-zoom-out').click();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ArrowLeft':\n\t\t\t\t\tdocument.querySelector('#gal-prev-img').click();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'ArrowRight':\n\t\t\t\t\tdocument.querySelector('#gal-next-img').click()\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'Escape':\n\t\t\t\t\toverlayDiv.querySelector('#overlay-close-btn').click();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\n}","/*\n * Js Masonry\n * javascript library to create masnory layout of elements \n * https://ujw0l.github.io/\n * MIT license\n *  \n */\n\n'use strict'\nexport class jsMasonry {\n    constructor(elems, opt) {\n        this.prepMas(elems, opt);\n    }\n    /**\n     * Prepare masonry\n     * \n     * @param {*} elems Elements to apply masonry\n     * @param {*} opt Masonry options\n     */\n    prepMas(elems, opt) {\n        let masArr = Array.from(document.querySelectorAll(elems));\n        let massApplied = 0;\n        masArr.map(el => {\n            let elFirstChild = undefined != opt && undefined != opt.elSelector ? el.querySelector(opt.elSelector) : el.children[0];\n            if (undefined != elFirstChild) {\n                let brkPer = undefined != opt && undefined == opt.elWidth && true === opt.percentWidth ? elFirstChild.offsetWidth / el.offsetWidth : null;\n                this.layBrks(el, opt, brkPer);\n                massApplied++\n                window.addEventListener('resize', () => this.layBrks(el, opt, brkPer, event));\n            }\n        });\n        if (1 < massApplied) {\n            window.dispatchEvent(new Event('resize'));\n        }\n    }\n    /**\n     * \n     * Lay bricks\n     * \n     * @param {*} el  Element to apply masonry to\n     * @param {*} opt Masonry options\n     * @param {*} brkPer Percent Width\n     * @param {*} resizeEvnt Resize event\n     */\n    layBrks(el, opt, brkPer, resizeEvnt) {\n        let allRawBrks = undefined != opt && undefined != opt.elSelector ? Array.from(el.querySelectorAll(opt.elSelector)) : Array.from(el.children);\n        let contWidth = el.offsetWidth;\n        let brkWidth = undefined != opt && undefined != opt.elWidth ? opt.elWidth : undefined != brkPer || null != brkPer ? contWidth * brkPer : allRawBrks[0].offsetWidth;\n        let rawBrkMargin = undefined != opt && undefined != opt.elMargin ? opt.elMargin : 0;\n        let rawBrkPerRow = (contWidth - rawBrkMargin) / (brkWidth + rawBrkMargin);\n        let brkPerRow = Math.floor(rawBrkPerRow);\n        let brkMargin = (((rawBrkPerRow - brkPerRow) * brkWidth) + ((rawBrkPerRow + 1) * (rawBrkMargin))) / (brkPerRow + 1);\n        let availSpots = Array();\n        let availTop = Array();\n        let brkHt = Array();\n        let allBrks = Array();\n        for (let z = 0; z <= brkPerRow - 1; z++) {\n            availTop.push(el.offsetTop + rawBrkMargin);\n            availSpots.push([el.offsetTop + rawBrkMargin, el.offsetLeft + (z * brkWidth) + ((z + 1) * brkMargin)]);\n        }\n\n\n        if (undefined != opt && undefined != opt.heightSort) {\n            for (let i in allRawBrks) {\n                brkHt.push(allRawBrks[i].offsetHeight);\n            }\n\n            if ('DESC' == opt.heightSort.toUpperCase()) {\n                brkHt.sort((a, b) => b - a);\n            } else if ('ASC' == opt.heightSort.toUpperCase()) {\n                brkHt.sort((a, b) => a - b);\n            }\n            for (let a in brkHt) {\n                for (let b in allRawBrks) {\n                    if (allRawBrks[b].offsetHeight == brkHt[a]) {\n                        allBrks.push(allRawBrks.splice(b, 1)[0]);\n                    }\n                }\n\n            }\n\n        } else {\n            allBrks = allRawBrks;\n        }\n\n\n        allBrks.map((x, i) => {\n            let placeCount = 1;\n            availSpots.map((n, l) => {\n                if (availTop[0] === n[0] && 1 === placeCount) {\n                    x.style.width = `${brkWidth}px`;\n                    x.style.position = 'absolute';\n                    x.style.left = `${n[1]}px`;\n                    x.style.top = `${n[0]}px`;\n                    placeCount++;\n                    if ('img' === x.nodeName.toLowerCase()) {\n                        x.style.height = '';\n                        let brkHt = brkWidth / x.offsetWidth * x.offsetHeight;\n                        x.style.height = `${brkHt}px`;\n                        availTop[0] = n[0] + brkHt + brkMargin;\n                        availSpots[l] = [n[0] + brkHt + brkMargin, n[1]]\n                        availTop.sort((a, b) => a - b);\n                    } else {\n                        availTop[0] = n[0] + x.offsetHeight + brkMargin;\n                        availSpots[l] = [n[0] + x.offsetHeight + brkMargin, n[1]]\n                        availTop.sort((a, b) => a - b);\n                    }\n                }\n            });\n            if (i === allBrks.length - 1) {\n                availTop.sort((a, b) => b - a);\n                el.style.height = (availTop[0] - el.offsetTop + rawBrkMargin) + 'px';\n                if (undefined == resizeEvnt) {\n                    if (undefined != opt) {\n                        if ('function' == typeof (opt.callback)) {\n                            opt.callback(el);\n                        }\n                    } else {\n                        window.dispatchEvent(new Event('resize'));\n                    }\n                }\n            }\n        });\n    }\n\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { ctcOverlayViewer } from 'ctc-gallery-viewer'; \nimport { jsMasonry } from 'js-masonry';\n\nwindow.addEventListener(\"DOMContentLoaded\",()=>{\n\n    Array.from(document.querySelectorAll('.mas-gal-gallery')).map(x=>{\n\n        new jsMasonry(`#${x.getAttribute('id')}`, { percentWidth: true, elMargin: parseInt(x.getAttribute('data-gut-wd')),  callback: el => el.style.opacity = '' });\n    });\n   \n\n\nnew ctcOverlayViewer('.ctc-gal-overlay');\n\n\n});"],"names":["ctcOverlayViewer","jsMasonry","window","addEventListener","Array","from","document","querySelectorAll","map","x","getAttribute","percentWidth","elMargin","parseInt","callback","el","style","opacity"],"sourceRoot":""}